<!-- Bootstrap Icons CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<nav class="main-nav">
  <!-- Heading Section with location pill on left & role pill on right -->
  <div class="nav-heading">
    <!-- Location Pill on Left -->
    <div class="location-display">
      <i class="bi bi-geo-alt-fill"></i>
      <span>Pune Plant</span>
    </div>

    <!-- Heading Center -->
    <div class="heading-left">
      <i class="bi bi-speedometer2"></i>
      <span>Learning Health Index</span>
    </div>

    <!-- Role Pill on Right -->
    <div class="role-display">
      <i class="bi bi-person-circle"></i>
      <span>{{ session.get('role', '') }}</span>
    </div>
  </div>

  <!-- Tabs Row with Logout Button -->
  <div class="nav-container">
    <div class="tabs-wrapper">
      <div class="tabs-container">
        <a href="{{ url_for('view_bp.view_master_data') }}" 
           class="menu-item {% if request.endpoint == 'view_bp.view_master_data' %}active{% endif %}">
           Technicians Capability Building
        </a>
        <a href="{{ url_for('user.induction') }}" 
           class="menu-item {% if request.endpoint == 'user.induction' %}active{% endif %}">
           INDUCTION
        </a>
        <a href="{{ url_for('user.fst') }}" 
           class="menu-item {% if request.endpoint == 'user.fst' %}active{% endif %}">
           FST
        </a>
        <a href="{{ url_for('user.fta') }}" 
           class="menu-item {% if request.endpoint == 'user.fta' %}active{% endif %}">
           FTA
        </a>
        <a href="{{ url_for('user.jta_ta') }}" 
           class="menu-item {% if request.endpoint == 'user.jta_ta' %}active{% endif %}">
           JTA
        </a>
        <a href="{{ url_for('user.ta') }}" 
           class="menu-item {% if request.endpoint == 'user.ta' %}active{% endif %}">
           TA
        </a>
        <a href="{{ url_for('user.kaushalya') }}" 
           class="menu-item {% if request.endpoint == 'user.kaushalya' %}active{% endif %}">
           KAUSHALYA
        </a>
        <a href="{{ url_for('user.pragati') }}" 
           class="menu-item {% if request.endpoint == 'user.pragati' %}active{% endif %}">
           PRAGATI
        </a>
        <a href="{{ url_for('user.lakshya') }}" 
           class="menu-item {% if request.endpoint == 'user.lakshya' %}active{% endif %}">
           LAKSHYA
        </a>
        <a href="{{ url_for('user.live_trainer') }}" 
           class="menu-item {% if request.endpoint == 'user.live_trainer' %}active{% endif %}">
           LIVE TRAINER
        </a>
      </div>
    </div>
    
    <!-- Logout Button -->
    <div class="logout-container">
      <a href="{{ url_for('user_auth.logout') }}" class="logout-btn">
        <i class="bi bi-box-arrow-right"></i>
        <span>Logout</span>
      </a>
    </div>
  </div>
</nav>

<style>
/* Main Navigation */
.main-nav {
  position: fixed;        /* Fix navbar at top */
  top: 0;                 /* Align at top of page */
  left: 0;                /* Full width */
  right: 0;
  z-index: 1000;          /* Stay above other elements */
  
  background: linear-gradient(135deg, #003366 0%, #0077b6 100%);
  border-radius: 0 0 12px 12px;
  padding: 0;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

/* Heading */
.nav-heading {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px 20px;
  font-size: 1.6rem;
  font-weight: 700;
  color: #fff;
  gap: 10px;
  margin-bottom: 5px;
  position: relative;
}
.nav-heading .heading-left {
  display: flex;
  align-items: center;
  gap: 8px;
}
.nav-heading i {
  font-size: 1.4rem;
  color: #fff;
}

/* Location display (left side) */
.location-display {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 15px;
  font-size: 0.75rem;
  font-weight: 600;
  color: #fff;
  background: linear-gradient(135deg, #28a745, #20c997); /* same style as role */
  border: 1px solid rgba(0,0,0,0.1);
  position: absolute;
  left: 20px;
}
.location-display i {
  font-size: 0.85rem;
}
.location-display span {
  text-transform: capitalize;
  letter-spacing: 0.5px;
}

/* Role display (right side) */
.role-display {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 15px;
  font-size: 0.75rem;
  font-weight: 600;
  color: #fff;
  background: linear-gradient(135deg, #28a745, #20c997);
  border: 1px solid rgba(0,0,0,0.1);
  position: absolute;
  right: 20px;
}
.role-display i {
  font-size: 0.85rem;
}
.role-display span {
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Container */
.nav-container {
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  padding: 0 20px 12px;
  gap: 15px;
}

/* Tabs */
.tabs-wrapper {
  flex: 1;
  overflow: hidden;
}
.tabs-container {
  display: flex;
  justify-content: center; /* center tabs horizontally */
  gap: 10px;
  overflow-x: auto;
  white-space: nowrap;
  padding-bottom: 5px;
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,0.3) transparent;
}
.tabs-container::-webkit-scrollbar {
  height: 6px;
}
.tabs-container::-webkit-scrollbar-thumb {
  background-color: rgba(255,255,255,0.3);
  border-radius: 3px;
}

/* Inactive Tabs â€“ gradient like role pill */
.menu-item {
  padding: 6px 14px;
  border-radius: 16px;
  text-decoration: none;
  color: #fff;
  font-weight: 500;
  font-size: 0.85rem;
  transition: all 0.25s ease;
  background: linear-gradient(135deg, #28a745, #20c997);
  border: 1px solid rgba(0,0,0,0.1);
  flex-shrink: 0;
}
.menu-item:hover {
  filter: brightness(1.1);
}

/* Active Tab stays pale */
.menu-item.active {
  color: #000000ff;
  font-weight: 600;
  background: #FFF8E7;
  border: none;
  box-shadow: 0 3px 8px rgba(24,119,242,0.35);
}

/* Logout Button */
.logout-container {
  flex-shrink: 0;
}
.logout-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 7px 16px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 600;
  text-decoration: none;
  color: #fff;
  background: linear-gradient(135deg, #e74c3c, #c0392b);
  border: 1px solid rgba(0,0,0,0.1);
  transition: all 0.25s ease;
}
.logout-btn i {
  font-size: 1rem;
}
.logout-btn:hover {
  background: linear-gradient(135deg, #c0392b, #a93226);
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(231,76,60,0.35);
}

/* Responsive */
@media (max-width: 900px) {
  .nav-container {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
    padding: 0 15px 12px;
  }
  .tabs-wrapper {
    width: 100%;
  }
  .logout-container {
    display: flex;
    justify-content: center;
  }
  .nav-heading {
    flex-direction: column;
    gap: 8px;
  }
}
</style>